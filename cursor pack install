<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Raven Guard Cursor Pack Generator</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: 'Courier New', monospace;
            background: linear-gradient(135deg, #0d0d0d 0%, #1a1a1a 100%);
            color: #a0a0a0;
            padding: 20px;
            min-height: 100vh;
        }

        .container {
            max-width: 1200px;
            margin: 0 auto;
        }

        header {
            text-align: center;
            padding: 30px 0;
            border-bottom: 3px solid #505050;
            margin-bottom: 30px;
        }

        h1 {
            color: #a0a0a0;
            font-size: 2.5em;
            margin-bottom: 10px;
            text-shadow: 2px 2px 4px rgba(0, 0, 0, 0.8);
        }

        .motto {
            color: #707070;
            font-style: italic;
            font-size: 1.1em;
            margin-top: 10px;
        }

        .symbol {
            font-size: 3em;
            margin: 10px 0;
        }

        .preview-section {
            background: linear-gradient(135deg, #151515 0%, #202020 100%);
            border: 2px solid #404040;
            border-radius: 4px;
            padding: 30px;
            margin-bottom: 30px;
            text-align: center;
        }

        .preview-section h2 {
            color: #a0a0a0;
            margin-bottom: 20px;
            font-size: 1.8em;
        }

        .cursor-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(150px, 1fr));
            gap: 20px;
            margin-top: 20px;
        }

        .cursor-item {
            background: #0d0d0d;
            border: 2px solid #303030;
            border-radius: 4px;
            padding: 20px;
            text-align: center;
            transition: all 0.3s ease;
        }

        .cursor-item:hover {
            border-color: #505050;
            box-shadow: 0 0 15px rgba(80, 80, 80, 0.3);
            transform: translateY(-2px);
        }

        .cursor-preview {
            width: 64px;
            height: 64px;
            margin: 0 auto 10px;
            display: flex;
            align-items: center;
            justify-content: center;
            background: #1a1a1a;
            border: 1px solid #404040;
            border-radius: 2px;
        }

        canvas {
            image-rendering: pixelated;
            image-rendering: crisp-edges;
        }

        .cursor-name {
            color: #808080;
            font-size: 0.9em;
            margin-top: 10px;
        }

        .download-section {
            text-align: center;
            margin-top: 40px;
        }

        .download-btn {
            background: linear-gradient(135deg, #404040 0%, #505050 100%);
            color: #e0e0e0;
            border: 2px solid #606060;
            padding: 15px 40px;
            font-size: 1.2em;
            font-weight: bold;
            cursor: pointer;
            border-radius: 4px;
            font-family: 'Courier New', monospace;
            transition: all 0.3s ease;
            box-shadow: 0 4px 10px rgba(0, 0, 0, 0.5);
        }

        .download-btn:hover {
            background: linear-gradient(135deg, #505050 0%, #606060 100%);
            box-shadow: 0 6px 15px rgba(80, 80, 80, 0.4);
            transform: translateY(-2px);
        }

        .download-btn:active {
            transform: translateY(0);
        }

        .instructions {
            background: #151515;
            border: 2px solid #404040;
            border-radius: 4px;
            padding: 25px;
            margin-top: 30px;
            text-align: left;
        }

        .instructions h3 {
            color: #a0a0a0;
            margin-bottom: 15px;
            font-size: 1.5em;
        }

        .instructions code {
            background: #0d0d0d;
            color: #808080;
            padding: 2px 6px;
            border-radius: 2px;
            font-family: 'Courier New', monospace;
        }

        .instructions pre {
            background: #0d0d0d;
            border: 1px solid #303030;
            border-radius: 2px;
            padding: 15px;
            overflow-x: auto;
            margin: 10px 0;
            color: #808080;
        }

        .instructions ol {
            margin-left: 20px;
            line-height: 1.8;
        }

        .instructions li {
            margin: 10px 0;
        }

        .status {
            margin-top: 20px;
            padding: 10px;
            border-radius: 4px;
            display: none;
        }

        .status.success {
            background: #2d4020;
            border: 1px solid #406040;
            color: #70c070;
            display: block;
        }

        .status.error {
            background: #402020;
            border: 1px solid #604040;
            color: #c07070;
            display: block;
        }
    </style>
</head>
<body>
    <div class="container">
        <header>
            <div class="symbol">ðŸ—¡</div>
            <h1>RAVEN GUARD CURSOR PACK</h1>
            <p class="motto">Victorus aut Mortis</p>
            <p style="margin-top: 10px; color: #606060;">Chapter XIX - Shadow Operations Division</p>
        </header>

        <div class="preview-section">
            <h2>â—† CURSOR PREVIEW â—†</h2>
            <p style="color: #707070; margin-bottom: 20px;">Tactical cursor designs for shadow operations</p>
            <div class="cursor-grid" id="cursorGrid"></div>
        </div>

        <div class="download-section">
            <button class="download-btn" onclick="generateAndDownload()">
                ðŸ—¡ DOWNLOAD CURSOR PACK ðŸ—¡
            </button>
            <div class="status" id="status"></div>
        </div>

        <div class="instructions">
            <h3>â—† INSTALLATION PROTOCOLS â—†</h3>
            <ol>
                <li>Download the cursor pack using the button above</li>
                <li>Extract the <code>raven-guard-cursors.tar.gz</code> file:
                    <pre>tar -xzf raven-guard-cursors.tar.gz</pre>
                </li>
                <li>Move the cursor theme to your icons directory:
                    <pre>sudo mv raven-guard-cursors /usr/share/icons/</pre>
                    Or for user-only installation:
                    <pre>mkdir -p ~/.local/share/icons
mv raven-guard-cursors ~/.local/share/icons/</pre>
                </li>
                <li>Set the cursor theme (choose one method):
                    <br><strong>Method 1 - Using environment variable:</strong>
                    <pre>echo "export XCURSOR_THEME=raven-guard-cursors" >> ~/.bashrc
echo "export XCURSOR_SIZE=24" >> ~/.bashrc</pre>
                    <strong>Method 2 - Using Hyprland config:</strong>
                    <pre># Add to ~/.config/hypr/hyprland.conf
env = XCURSOR_THEME,raven-guard-cursors
env = XCURSOR_SIZE,24
exec-once = hyprctl setcursor raven-guard-cursors 24</pre>
                </li>
                <li>Restart Hyprland or logout/login to apply changes</li>
            </ol>
        </div>
    </div>

    <script src="https://cdnjs.cloudflare.com/ajax/libs/jszip/3.10.1/jszip.min.js"></script>
    <script>
        const cursors = [
            { name: 'default', label: 'Default', hotspot: [8, 8] },
            { name: 'pointer', label: 'Pointer', hotspot: [12, 4] },
            { name: 'text', label: 'Text', hotspot: [12, 12] },
            { name: 'wait', label: 'Wait', hotspot: [12, 12] },
            { name: 'crosshair', label: 'Crosshair', hotspot: [12, 12] },
            { name: 'move', label: 'Move', hotspot: [12, 12] },
            { name: 'not-allowed', label: 'Not Allowed', hotspot: [12, 12] },
            { name: 'hand', label: 'Hand', hotspot: [12, 4] }
        ];

        function drawCursor(canvas, type) {
            const ctx = canvas.getContext('2d');
            const size = 24;
            canvas.width = size;
            canvas.height = size;
            
            ctx.fillStyle = '#a0a0a0';
            ctx.strokeStyle = '#0d0d0d';
            ctx.lineWidth = 1;

            switch(type) {
                case 'default':
                    // Arrow cursor
                    ctx.beginPath();
                    ctx.moveTo(2, 2);
                    ctx.lineTo(2, 18);
                    ctx.lineTo(8, 14);
                    ctx.lineTo(12, 22);
                    ctx.lineTo(14, 21);
                    ctx.lineTo(10, 13);
                    ctx.lineTo(18, 13);
                    ctx.closePath();
                    ctx.fill();
                    ctx.stroke();
                    break;

                case 'pointer':
                    // Hand pointer
                    ctx.beginPath();
                    ctx.moveTo(12, 4);
                    ctx.lineTo(12, 12);
                    ctx.lineTo(10, 12);
                    ctx.lineTo(10, 8);
                    ctx.lineTo(8, 8);
                    ctx.lineTo(8, 12);
                    ctx.lineTo(6, 12);
                    ctx.lineTo(6, 10);
                    ctx.lineTo(4, 10);
                    ctx.lineTo(4, 16);
                    ctx.lineTo(6, 18);
                    ctx.lineTo(10, 18);
                    ctx.lineTo(12, 20);
                    ctx.lineTo(16, 20);
                    ctx.lineTo(18, 18);
                    ctx.lineTo(18, 10);
                    ctx.lineTo(16, 8);
                    ctx.lineTo(16, 6);
                    ctx.lineTo(14, 4);
                    ctx.closePath();
                    ctx.fill();
                    ctx.stroke();
                    break;

                case 'text':
                    // I-beam
                    ctx.fillRect(8, 4, 8, 2);
                    ctx.fillRect(11, 6, 2, 12);
                    ctx.fillRect(8, 18, 8, 2);
                    break;

                case 'wait':
                    // Hourglass
                    ctx.beginPath();
                    ctx.moveTo(6, 4);
                    ctx.lineTo(18, 4);
                    ctx.lineTo(12, 12);
                    ctx.lineTo(18, 20);
                    ctx.lineTo(6, 20);
                    ctx.lineTo(12, 12);
                    ctx.closePath();
                    ctx.fill();
                    ctx.stroke();
                    break;

                case 'crosshair':
                    // Tactical crosshair
                    ctx.strokeStyle = '#a0a0a0';
                    ctx.lineWidth = 2;
                    ctx.beginPath();
                    ctx.moveTo(12, 4);
                    ctx.lineTo(12, 20);
                    ctx.moveTo(4, 12);
                    ctx.lineTo(20, 12);
                    ctx.stroke();
                    ctx.beginPath();
                    ctx.arc(12, 12, 6, 0, Math.PI * 2);
                    ctx.stroke();
                    break;

                case 'move':
                    // Four-way arrow
                    ctx.beginPath();
                    // Up arrow
                    ctx.moveTo(12, 4);
                    ctx.lineTo(8, 8);
                    ctx.lineTo(11, 8);
                    ctx.lineTo(11, 11);
                    // Left arrow
                    ctx.lineTo(8, 11);
                    ctx.lineTo(8, 8);
                    ctx.lineTo(4, 12);
                    ctx.lineTo(8, 16);
                    ctx.lineTo(8, 13);
                    ctx.lineTo(11, 13);
                    // Down arrow
                    ctx.lineTo(11, 16);
                    ctx.lineTo(8, 16);
                    ctx.lineTo(12, 20);
                    ctx.lineTo(16, 16);
                    ctx.lineTo(13, 16);
                    ctx.lineTo(13, 13);
                    // Right arrow
                    ctx.lineTo(16, 13);
                    ctx.lineTo(16, 16);
                    ctx.lineTo(20, 12);
                    ctx.lineTo(16, 8);
                    ctx.lineTo(16, 11);
                    ctx.lineTo(13, 11);
                    ctx.lineTo(13, 8);
                    ctx.lineTo(16, 8);
                    ctx.closePath();
                    ctx.fill();
                    ctx.stroke();
                    break;

                case 'not-allowed':
                    // Circle with slash
                    ctx.beginPath();
                    ctx.arc(12, 12, 8, 0, Math.PI * 2);
                    ctx.fill();
                    ctx.stroke();
                    ctx.strokeStyle = '#0d0d0d';
                    ctx.lineWidth = 3;
                    ctx.beginPath();
                    ctx.moveTo(6, 6);
                    ctx.lineTo(18, 18);
                    ctx.stroke();
                    break;

                case 'hand':
                    // Open hand
                    ctx.beginPath();
                    ctx.moveTo(8, 4);
                    ctx.lineTo(8, 12);
                    ctx.lineTo(6, 12);
                    ctx.lineTo(6, 6);
                    ctx.lineTo(4, 6);
                    ctx.lineTo(4, 14);
                    ctx.lineTo(6, 16);
                    ctx.lineTo(12, 16);
                    ctx.lineTo(14, 18);
                    ctx.lineTo(18, 18);
                    ctx.lineTo(20, 16);
                    ctx.lineTo(20, 8);
                    ctx.lineTo(18, 6);
                    ctx.lineTo(18, 4);
                    ctx.lineTo(16, 2);
                    ctx.lineTo(14, 2);
                    ctx.lineTo(12, 4);
                    ctx.lineTo(10, 2);
                    ctx.closePath();
                    ctx.fill();
                    ctx.stroke();
                    break;
            }
        }

        function initPreviews() {
            const grid = document.getElementById('cursorGrid');
            cursors.forEach(cursor => {
                const item = document.createElement('div');
                item.className = 'cursor-item';
                
                const preview = document.createElement('div');
                preview.className = 'cursor-preview';
                
                const canvas = document.createElement('canvas');
                drawCursor(canvas, cursor.name);
                preview.appendChild(canvas);
                
                const name = document.createElement('div');
                name.className = 'cursor-name';
                name.textContent = cursor.label;
                
                item.appendChild(preview);
                item.appendChild(name);
                grid.appendChild(item);
            });
        }

        async function generateAndDownload() {
            const statusEl = document.getElementById('status');
            statusEl.className = 'status';
            statusEl.textContent = 'Generating cursor pack...';
            statusEl.style.display = 'block';

            try {
                const zip = new JSZip();
                const cursorFolder = zip.folder('raven-guard-cursors');
                const cursorsSubfolder = cursorFolder.folder('cursors');

                // Create index.theme file
                const indexTheme = `[Icon Theme]
Name=Raven Guard Cursors
Comment=Tactical cursor theme for shadow operations - Victorus aut Mortis
`;
                cursorFolder.file('index.theme', indexTheme);

                // Create cursor.theme file
                const cursorTheme = `[Icon Theme]
Name=Raven Guard Cursors
Comment=Raven Guard Chapter XIX cursor theme
Inherits=Adwaita
`;
                cursorFolder.file('cursor.theme', cursorTheme);

                // Generate cursor images
                for (const cursor of cursors) {
                    const canvas = document.createElement('canvas');
                    drawCursor(canvas, cursor.name);
                    
                    const blob = await new Promise(resolve => canvas.toBlob(resolve, 'image/png'));
                    cursorsSubfolder.file(`${cursor.name}.png`, blob);
                }

                // Create installation script
                const installScript = `#!/bin/bash
# Raven Guard Cursor Installation Script
echo "========================================="
echo "Installing Raven Guard Cursors..."
echo "========================================="

if [ -d "/usr/share/icons/raven-guard-cursors" ]; then
    echo "Removing old installation..."
    sudo rm -rf /usr/share/icons/raven-guard-cursors
fi

echo "Installing to /usr/share/icons/..."
sudo cp -r raven-guard-cursors /usr/share/icons/

echo ""
echo "Installation complete!"
echo "To apply the cursor theme, add to your Hyprland config:"
echo ""
echo "env = XCURSOR_THEME,raven-guard-cursors"
echo "env = XCURSOR_SIZE,24"
echo "exec-once = hyprctl setcursor raven-guard-cursors 24"
echo ""
echo "Then restart Hyprland."
echo "========================================="
`;
                zip.file('install.sh', installScript);

                // Create README
                const readme = `# Raven Guard Cursor Pack
## Chapter XIX - Shadow Operations Division

**Victorus aut Mortis**

This cursor pack is themed after the Raven Guard Space Marine Chapter from Warhammer 40,000.

### Installation

1. Extract this archive
2. Run the installation script:
   \`\`\`bash
   chmod +x install.sh
   sudo ./install.sh
   \`\`\`

3. Add to your Hyprland config (~/.config/hypr/hyprland.conf):
   \`\`\`
   env = XCURSOR_THEME,raven-guard-cursors
   env = XCURSOR_SIZE,24
   exec-once = hyprctl setcursor raven-guard-cursors 24
   \`\`\`

4. Restart Hyprland

### Manual Installation

If you prefer manual installation:

\`\`\`bash
# System-wide
sudo cp -r raven-guard-cursors /usr/share/icons/

# User-only
mkdir -p ~/.local/share/icons
cp -r raven-guard-cursors ~/.local/share/icons/
\`\`\`

### Theme Colors

- Primary: #a0a0a0 (Raven Grey)
- Secondary: #505050 (Steel Grey)
- Background: #0d0d0d (Shadow Black)

### Credits

Created for the Raven Guard themed Hyprland desktop environment.

"We are the shadows, we are death."
`;
                zip.file('README.md', readme);

                // Generate and download
                const content = await zip.generateAsync({ 
                    type: 'blob',
                    compression: 'DEFLATE',
                    compressionOptions: { level: 9 }
                });
                
                const url = URL.createObjectURL(content);
                const a = document.createElement('a');
                a.href = url;
                a.download = 'raven-guard-cursors.zip';
                document.body.appendChild(a);
                a.click();
                document.body.removeChild(a);
                URL.revokeObjectURL(url);

                statusEl.className = 'status success';
                statusEl.textContent = 'âœ“ Cursor pack downloaded successfully! Extract and run install.sh';
            } catch (error) {
                statusEl.className = 'status error';
                statusEl.textContent = 'âœ— Error generating cursor pack: ' + error.message;
                console.error(error);
            }
        }

        initPreviews();
    </script>
</body>
</html>
